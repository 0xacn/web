@import '../../mixins';
@import '../../trigonometry';

$animation-duration: 400ms;
$transform-length: 100px;

@include home-content('screenshots') {
	$degrees: 6deg;
	
	@include stack;
	
	&.left > .content {
		> .screenshot > :last-child,
		> .info > .title {
			animation: screenshots-left $animation-duration ease-in-out;
		}
	}
	
	&.right > .content {
		> .screenshot > :last-child,
		> .info > .title {
			animation: screenshots-right $animation-duration ease-in-out;
		}
	}
	
	> .background {
		@include top-gradient($degrees, $is-right: true);
		
		height: calc(100vh + #{tan($degrees)} * 100vw);
	}
	
	> .content {
		display: flex;
		justify-content: center;
		align-items: center;
		z-index: 0;
		transform: translateY(calc(#{tan($degrees)} * -50vw)); // Center it
		
		> .screenshot {
			@include stack;
			
			justify-items: center;
			align-items: center;
			
			> :first-child {
				$dimension: calc(100vh - 100px * 2);
				
				width: $dimension;
				height: $dimension;
			}
			
			> :last-child {
				height: calc(100vh - 75px * 2);
			}
		}
		
		> .info {
			margin-left: 20px;
			
			> .title {
				font-size: 58px;
				line-height: 70px;
				color: white;
			}
			
			> .navigation {
				display: flex;
				margin-top: 40px;
				
				> button {
					$height: 50px;
					$scale-factor: 1.3;
					
					width: 80px;
					height: $height;
					background: transparentize(white, 0.9);
					border-radius: $height / 2;
					transition: background 0.3s;
					
					> svg {
						margin: 0 auto;
					}
					
					&:first-child {
						margin-right: 12px;
						
						> svg {
							transform: scale($scale-factor);
						}
					}
					
					&:last-child > svg {
						transform: scale(-$scale-factor, $scale-factor);
					}
					
					&:hover {
						background: transparentize(white, 0.8);
					}
				}
			}
			
			> .gallery {
				margin-top: 30px;
				
				> button {
					$dimension: 20px;
					
					width: $dimension;
					height: $dimension;
					background: transparentize(white, 0.9);
					border-radius: 50%;
					transition: background 0.3s;
					
					&.selected {
						background: transparentize(white, 0.2);
					}
					
					&:not(.selected) {
						&:hover,
						&:focus {
							background: transparentize(white, 0.7);
						}
					}
					
					&:not(:last-child) {
						margin-right: 12px;
					}
				}
			}
		}
	}
	
	@keyframes screenshots-left {
		50% {
			opacity: 0;
			transform: translateX($transform-length);
		}
		
		50.01% {
			opacity: 0;
			transform: translateX(-$transform-length);
		}
	}
	
	@keyframes screenshots-right {
		50% {
			opacity: 0;
			transform: translateX(-$transform-length);
		}
		
		50.01% {
			opacity: 0;
			transform: translateX($transform-length);
		}
	}
}
